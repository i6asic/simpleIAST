import{p as y,aE as V,r as u,Z as C,ai as n,q as S,t as k,U as o,v as i,O as l,u as g,a2 as I,S as U,a9 as q,aH as E,aI as F}from"./vue-956193f0.js";import{d as M,h as R,_ as z}from"./index-e50c813d.js";import{t as B,v as K,E as N}from"./element-12e92669.js";import{_ as A}from"./index.vue_vue_type_script_setup_true_lang-e8fb82ca.js";import"./vxe-c7146e14.js";const L=a=>(E("data-v-34db02a4"),a=a(),F(),a),T={class:"login-container"},D={class:"login-card"},H=L(()=>i("div",{class:"title"},[i("span",{class:"custom-text"},"SimpleIAST")],-1)),O={class:"content"},Z=y({__name:"index",setup(a){const v=V(),p=u(null),d=u(!1),m=u(""),e=C({username:"admin",password:"",code:""}),h={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:16,message:"长度在 6 到 16 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]},_=()=>{var t;(t=p.value)==null||t.validate((s,r)=>{s?(d.value=!0,M().login(e).then(()=>{v.push({path:"/"}),N.success("登录成功")}).catch(()=>{x(),e.password=""}).finally(()=>{d.value=!1})):console.error("表单校验不通过",r)})},x=()=>{e.code="",m.value="",R().then(t=>{m.value=t.data})};return(t,s)=>{const r=n("el-input"),f=n("el-form-item"),w=n("el-button"),b=n("el-form");return S(),k("div",T,[o(A,{class:"theme-switch"}),i("div",D,[H,i("div",O,[o(b,{ref_key:"loginFormRef",ref:p,model:e,rules:h,onKeyup:q(_,["enter"])},{default:l(()=>[o(f,{prop:"username"},{default:l(()=>[o(r,{modelValue:e.username,"onUpdate:modelValue":s[0]||(s[0]=c=>e.username=c),modelModifiers:{trim:!0},placeholder:"用户名",type:"text",tabindex:"1","prefix-icon":g(B),size:"large"},null,8,["modelValue","prefix-icon"])]),_:1}),o(f,{prop:"password"},{default:l(()=>[o(r,{modelValue:e.password,"onUpdate:modelValue":s[1]||(s[1]=c=>e.password=c),modelModifiers:{trim:!0},placeholder:"密码",type:"password",tabindex:"2","prefix-icon":g(K),size:"large","show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),o(w,{loading:d.value,type:"primary",size:"large",onClick:I(_,["prevent"])},{default:l(()=>[U("登 录")]),_:1},8,["loading","onClick"])]),_:1},8,["model","onKeyup"])])])])}}});const Q=z(Z,[["__scopeId","data-v-34db02a4"]]);export{Q as default};
