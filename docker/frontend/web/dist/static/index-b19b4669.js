import{p as b,aE as y,r as u,Z as V,ai as r,q as S,t as k,U as o,v as n,O as l,u as f,a2 as I,S as C,a9 as q,aH as E,aI as F}from"./vue-956193f0.js";import{d as M,_ as R}from"./index-5b4830db.js";import{t as U,v as z,E as g}from"./element-0afb0e99.js";import{_ as B}from"./index.vue_vue_type_script_setup_true_lang-9363a53d.js";import"./vxe-78a23074.js";const K=t=>(E("data-v-ec7c88b2"),t=t(),F(),t),N={class:"login-container"},T={class:"login-card"},A=K(()=>n("div",{class:"title"},[n("span",{class:"custom-text"},"SimpleIAST")],-1)),D={class:"content"},H=b({__name:"index",setup(t){const v=y(),p=u(null),i=u(!1);u("");const e=V({username:"admin",password:"",code:""}),x={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:16,message:"长度在 6 到 16 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]},m=()=>{var d;(d=p.value)==null||d.validate((s,a)=>{s?(i.value=!0,M().login(e).then(()=>{v.push({path:"/"}),g.success("登录成功")}).catch(()=>{g.error("登录失败"),e.password=""}).finally(()=>{i.value=!1})):console.error("表单校验不通过",a)})};return(d,s)=>{const a=r("el-input"),_=r("el-form-item"),h=r("el-button"),w=r("el-form");return S(),k("div",N,[o(B,{class:"theme-switch"}),n("div",T,[A,n("div",D,[o(w,{ref_key:"loginFormRef",ref:p,model:e,rules:x,onKeyup:q(m,["enter"])},{default:l(()=>[o(_,{prop:"username"},{default:l(()=>[o(a,{modelValue:e.username,"onUpdate:modelValue":s[0]||(s[0]=c=>e.username=c),modelModifiers:{trim:!0},placeholder:"用户名",type:"text",tabindex:"1","prefix-icon":f(U),size:"large"},null,8,["modelValue","prefix-icon"])]),_:1}),o(_,{prop:"password"},{default:l(()=>[o(a,{modelValue:e.password,"onUpdate:modelValue":s[1]||(s[1]=c=>e.password=c),modelModifiers:{trim:!0},placeholder:"密码",type:"password",tabindex:"2","prefix-icon":f(z),size:"large","show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),o(h,{loading:i.value,type:"primary",size:"large",onClick:I(m,["prevent"])},{default:l(()=>[C("登 录")]),_:1},8,["loading","onClick"])]),_:1},8,["model","onKeyup"])])])])}}});const G=R(H,[["__scopeId","data-v-ec7c88b2"]]);export{G as default};
